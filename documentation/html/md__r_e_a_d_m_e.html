<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACSE6.2: ACSE 6  Solving the Wave Equation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ACSE6.2
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ACSE 6 Solving the Wave Equation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://opensource.org/licenses/mit-license.php"><img src="https://badges.frapsoft.com/os/mit/mit.svg?v=103" alt="MIT Licence" style="pointer-events: none;" class="inline"/></a></p>
<p>The project is a C++ package to implement to solve the Wave Equation in parallel. The python file is used to collect the .dat files and output pictures and video.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Table of Contents</h1>
<ul>
<li><a href="#about-project">About project</a></li>
<li><a href="#configuration-and-installation">Configuration and Installation</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#reference">Reference</a></li>
<li><a href="#license">License</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
About project</h1>
<p>The aim of this assignment is to write a parallel solver for the wave equation. The boundary conditions include Dirichlet boundary and Neumann boundary. The decomposition included stripe decomposition and grid decomposition.</p>
<p>After getting the solution, the post-processing module can convert the .dat file into images and videos.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Configuration and installation</h1>
<p>To run this project, you should download some files, which list below</p>
<ol type="1">
<li>MPI : download the MPI and configure it in the visual studio. The URL is</li>
</ol>
<div class="fragment"><div class="line">http://www.mpich.org/downloads/</div>
</div><!-- fragment --><ol type="1">
<li>download the numpy and Image module</li>
</ol>
<div class="fragment"><div class="line">pip install numpy</div>
<div class="line">pip install Image</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
Usage</h1>
<p>This section will introduce on how to run this project and give a few simple examples.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Setting</h2>
<p>The default size of the array is 100*100. You can change the size through changing imax and jmax in <code><a class="el" href="_matrix_8h.html" title="The header file of Matrix.cpp.">Matrix.h</a></code>. In addition, some other parameters like dt_out, x_max, y_max also can be changed.</p>
<p>The boundary conditions can be changed in <code><a class="el" href="main_8cpp.html">main.cpp</a></code>.</p>
<p>In addition, before running the code, you must create four folders whose name are <code>out</code>, <code>Pictures</code>, <code>result</code> and <code>test</code>. Please don't change the files provided in <code>test</code> folder because these files are used in testing. The other three folder is used to receive .dat files or .png files.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Running</h2>
<p>Run the main file in cmd or powershell with this command:</p>
<div class="fragment"><div class="line">mpiexec -n 10 ACSE6.2.exe</div>
</div><!-- fragment --><p>10 is the number of the processes. You can change other integers than more than 0. ACSE6.2 is my project name. When you change the Project name, yous should input the name coincide your project name</p>
<p>If you don't change the code and run the code directly, you will get</p>
<div class="fragment"><div class="line">p0: 0 9</div>
<div class="line">p1: 9 9</div>
<div class="line">p2: 18 10</div>
<div class="line">p3: 28 10</div>
<div class="line">p4: 38 10</div>
<div class="line">p5: 48 10</div>
<div class="line">p6: 58 10</div>
<div class="line">p7: 68 10</div>
<div class="line">p8: 78 10</div>
<div class="line">p9: 88 10</div>
<div class="line">output: 300     t: 30   iteration: 2969</div>
<div class="line">Divide 10 into 2 by 5 grid</div>
<div class="line">p: 0  row_start 0  col start 0 row_chunk: 49 col_chunk: 19</div>
<div class="line">p: 1  row_start 0  col start 19 row_chunk: 49 col_chunk: 19</div>
<div class="line">p: 2  row_start 0  col start 38 row_chunk: 49 col_chunk: 20</div>
<div class="line">p: 3  row_start 0  col start 58 row_chunk: 49 col_chunk: 20</div>
<div class="line">p: 4  row_start 0  col start 78 row_chunk: 49 col_chunk: 20</div>
<div class="line">p: 5  row_start 49  col start 0 row_chunk: 49 col_chunk: 19</div>
<div class="line">p: 6  row_start 49  col start 19 row_chunk: 49 col_chunk: 19</div>
<div class="line">p: 7  row_start 49  col start 38 row_chunk: 49 col_chunk: 20</div>
<div class="line">p: 8  row_start 49  col start 58 row_chunk: 49 col_chunk: 20</div>
<div class="line">p: 9  row_start 49  col start 78 row_chunk: 49 col_chunk: 20</div>
<div class="line">output: 300     t: 30   iteration: 2969</div>
</div><!-- fragment --><p>This sizes of the processes is 10 in this example and each solver generate 300 .dat files in <code>out</code> folder .</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Collect file</h2>
<p>Open the <a class="el" href="_collect_8py.html">Collect.py</a>. You will find some parameters. The default parameters are</p>
<div class="fragment"><div class="line">dir_out = os.getcwd() + &#39;\out&#39;</div>
<div class="line">dir_test = os.getcwd() + &#39;\\test&#39;</div>
<div class="line">dir_result = os.getcwd() + &#39;\\result&#39;</div>
<div class="line"> </div>
<div class="line">p = 10</div>
<div class="line">cnt = 300</div>
<div class="line">imax = 100</div>
<div class="line">jmax = 100</div>
<div class="line"> </div>
<div class="line">fps = 24</div>
<div class="line">decomposition = 0</div>
</div><!-- fragment --><p>p is the size of the processes that you input in cmd or powershell. The result output = 300, therefore, set cnt = 300. imax and jmax are same to the imax and jamx in <code><a class="el" href="_matrix_8h.html" title="The header file of Matrix.cpp.">Matrix.h</a></code>. fps is the default value.</p>
<p>After running the function <code>collectgrid</code> or <code>collectstrip</code>, the .dat file will be generated in <code>result</code> folder.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Visualisation</h2>
<p>Visualisation relies on the files containing the value information in <code>result</code> folder.</p>
<p>After reading in this file, the function <code>outPictures</code> will generate .png files in <code>Pictures</code> folder. Then, using the function <code>imageTovideo</code> to collect the pictures to generate the vedio.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
Documentation</h1>
<p>To get documentation of this project, open <code>index.html</code> in <code>documentation/html</code> after installation.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Reference</h1>
<p>ACSE 6 Lecture 2 Exercise 3</p>
<p>ACSE 6 Lecture 4 Exercise 2</p>
<p>ACSE 6 Lecture 6 Exercise 1</p>
<h1><a class="anchor" id="autotoc_md11"></a>
License</h1>
<p>[MIT](LICENSE) Â© acse-2020 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
